diff --git a/django/utils/html.py b/django/utils/html.py
index 3bc02b8dd3..694d1d8ee8 100644
--- a/django/utils/html.py
+++ b/django/utils/html.py
@@ -284,7 +284,7 @@ def urlize(text, trim_url_limit=None, nofollow=False, autoescape=False):
             stripped = middle_unescaped.rstrip(TRAILING_PUNCTUATION_CHARS)
             if middle_unescaped != stripped:
                 trail = middle[len(stripped):] + trail
-                middle = middle[:len(stripped) - len(middle_unescaped)]
+                middle = middle[:len(stripped)]
                 trimmed_something = True
         return lead, middle, trail
 
diff --git a/reproduce_urlize.py b/reproduce_urlize.py
new file mode 100644
index 0000000000..29c81d85c3
--- /dev/null
+++ b/reproduce_urlize.py
@@ -0,0 +1,7 @@
+
+from jinja2 import Environment
+
+env = Environment()
+text = 'Search for google.com/?q=1&lt! and see.'
+urlized_text = env.from_string('{{ text | urlize }}').render(text=text)
+print(urlized_text)
\ No newline at end of file
