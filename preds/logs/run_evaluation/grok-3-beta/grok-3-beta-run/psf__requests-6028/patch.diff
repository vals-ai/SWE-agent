diff --git a/proxy_test.py b/proxy_test.py
new file mode 100644
index 00000000..af84b1c8
--- /dev/null
+++ b/proxy_test.py
@@ -0,0 +1,9 @@
+
+import requests
+
+# Note: You will need to set up proxies to test this.
+# proxies = {'http': 'http://user:pass@proxy:port', 'https': 'http://user:pass@proxy:port'}
+proxies = {}
+
+r = requests.get('https://example.org/', proxies=proxies)
+print(r.status_code)
\ No newline at end of file
diff --git a/requests/adapters.py b/requests/adapters.py
index fe22ff45..bb16cc98 100644
--- a/requests/adapters.py
+++ b/requests/adapters.py
@@ -385,7 +385,7 @@ class HTTPAdapter(BaseAdapter):
         """
         headers = {}
         username, password = get_auth_from_url(proxy)
-
+        # Note: Ensure header is correctly formatted; Python 3.8.12 might be stricter with header validation.
         if username:
             headers['Proxy-Authorization'] = _basic_auth_str(username,
                                                              password)
diff --git a/requests/auth.py b/requests/auth.py
index eeface39..cf63556d 100644
--- a/requests/auth.py
+++ b/requests/auth.py
@@ -57,10 +57,10 @@ def _basic_auth_str(username, password):
     # -- End Removal --
 
     if isinstance(username, str):
-        username = username.encode('latin1')
+        username = username.encode('utf-8')
 
     if isinstance(password, str):
-        password = password.encode('latin1')
+        password = password.encode('utf-8')
 
     authstr = 'Basic ' + to_native_string(
         b64encode(b':'.join((username, password))).strip()
