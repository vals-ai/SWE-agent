diff --git a/django/forms/formsets.py b/django/forms/formsets.py
index 235aaf844c..02d040ee03 100644
--- a/django/forms/formsets.py
+++ b/django/forms/formsets.py
@@ -490,7 +490,7 @@ class BaseFormSet(RenderableFormMixin):
                     required=False,
                     widget=self.get_ordering_widget(),
                 )
-        if self.can_delete and (self.can_delete_extra or index < initial_form_count):
+        if self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):
             form.fields[DELETION_FIELD_NAME] = BooleanField(
                 label=_("Delete"),
                 required=False,
diff --git a/reproduce_formset_bug.py b/reproduce_formset_bug.py
new file mode 100644
index 0000000000..751046640d
--- /dev/null
+++ b/reproduce_formset_bug.py
@@ -0,0 +1,26 @@
+
+#!/usr/bin/env python3
+import os
+import django
+from django import forms
+
+class MyForm(forms.Form):
+    my_field = forms.CharField()
+
+if __name__ == "__main__":
+    settings_file = os.path.splitext(os.path.basename(__file__))[0]
+    django.conf.settings.configure(
+        DEBUG=True,
+        MIDDLEWARE_CLASSES=[],
+        ROOT_URLCONF=settings_file,
+    )
+    django.setup()
+    MyFormSet = forms.formset_factory(
+        form=MyForm,
+        can_delete=True,
+        can_delete_extra=False,
+    )
+    my_formset = MyFormSet(
+        initial=None,
+    )
+    print(my_formset.empty_form)
\ No newline at end of file
diff --git a/test_formset_edge_cases.py b/test_formset_edge_cases.py
new file mode 100644
index 0000000000..29a98afce8
--- /dev/null
+++ b/test_formset_edge_cases.py
@@ -0,0 +1,62 @@
+
+#!/usr/bin/env python3
+import os
+import django
+from django import forms
+
+class MyForm(forms.Form):
+    my_field = forms.CharField()
+
+if __name__ == "__main__":
+    settings_file = os.path.splitext(os.path.basename(__file__))[0]
+    django.conf.settings.configure(
+        DEBUG=True,
+        MIDDLEWARE_CLASSES=[],
+        ROOT_URLCONF=settings_file,
+    )
+    django.setup()
+    
+    # Test case 1: can_delete=True, can_delete_extra=False
+    MyFormSet1 = forms.formset_factory(
+        form=MyForm,
+        can_delete=True,
+        can_delete_extra=False,
+    )
+    formset1 = MyFormSet1(initial=None)
+    print("Test 1 - Empty form with can_delete=True, can_delete_extra=False:")
+    print(formset1.empty_form)
+    print("\n")
+    
+    # Test case 2: can_delete=True, can_delete_extra=True
+    MyFormSet2 = forms.formset_factory(
+        form=MyForm,
+        can_delete=True,
+        can_delete_extra=True,
+    )
+    formset2 = MyFormSet2(initial=None)
+    print("Test 2 - Empty form with can_delete=True, can_delete_extra=True:")
+    print(formset2.empty_form)
+    print("\n")
+    
+    # Test case 3: can_delete=False, can_delete_extra=False
+    MyFormSet3 = forms.formset_factory(
+        form=MyForm,
+        can_delete=False,
+        can_delete_extra=False,
+    )
+    formset3 = MyFormSet3(initial=None)
+    print("Test 3 - Empty form with can_delete=False, can_delete_extra=False:")
+    print(formset3.empty_form)
+    print("\n")
+    
+    # Test case 4: Formset with initial data
+    MyFormSet4 = forms.formset_factory(
+        form=MyForm,
+        can_delete=True,
+        can_delete_extra=False,
+    )
+    formset4 = MyFormSet4(initial=[{'my_field': 'Initial data'}])
+    print("Test 4 - Formset with initial data:")
+    for form in formset4.forms:
+        print(form)
+    print("Script completed successfully, no errors.")
\ No newline at end of file
